**[注意]**：实验指导书中没有本次试验，但是实验楼中有，因此我将本次实验的实验指导下载下来放在了[这里](./lab_5_guide.pdf)，可以参考一下。

# 实现`switch_to`

# 修改`fork.c`

# 修改`sched.h`和`sched.c`

# 三个问题

1. (1). 为什么要加4096？

   (2). 为什么没有设置 tss 中的 ss0？

2. (1). 子进程第一次执行时, eax= ?为什么要等于这个数?哪里的工作让 eax 等于这样一个数?

   (2). 这段代码中的 ebx 和 ecx 来自哪里,是什么含义,为什么要通过这些代码将其写到子进程的内核栈中?

   (3). 这段代码中的ebp 来自哪里,是什么含义,为什么要做这样的设置?可以不设置吗?为什么?

3. 为什么要在切换完 LDT 之后要重新设置 fs=0x17 ?而且为什么重设操作要出现在切换完 LDT 之后,出现在 LDT 之前又会怎么样?